<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Website Planner Playground</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    /* --- CORE STYLES --- */
    :root {
      --bg-dark: #050508;
      --bg-gradient: radial-gradient(circle at 50% 0%, #151a2e 0%, #050508 80%);
      --accent-blue: #2CA6E0;
      --surface-base: rgba(255, 255, 255, 0.03);
      --surface-hover: rgba(255, 255, 255, 0.08);
      --border-light: rgba(255, 255, 255, 0.1);
      --text-main: #FFFFFF;
      --text-muted: #A0A5B0;
      --font-heading: 'Cormorant Garamond', serif;
      --font-body: 'Montserrat', sans-serif;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      background: var(--bg-dark);
      background-image: var(--bg-gradient);
      background-attachment: fixed;
      color: var(--text-main);
      font-family: var(--font-body);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* --- LAYOUT --- */
    .container {
      width: 100%;
      max-width: 600px; /* Kept narrow for mobile focus */
      margin: 0 auto;
      padding: 20px;
      flex: 1;
    }

    h1 { font-family: var(--font-heading); font-size: 2.5rem; line-height: 1.1; margin-bottom: 10px; text-align: center; }
    p { color: var(--text-muted); text-align: center; margin-bottom: 30px; line-height: 1.6; }
    
    /* --- PROGRESS BAR --- */
    .progress-nav {
      display: flex;
      justify-content: center;
      gap: 15px;
      padding: 20px 0;
      margin-bottom: 20px;
      border-bottom: 1px solid var(--border-light);
    }
    .step-dot {
      width: 12px; height: 12px; border-radius: 50%;
      background: var(--surface-base);
      border: 1px solid var(--border-light);
      transition: all 0.3s ease;
    }
    .step-dot.active { background: var(--accent-blue); border-color: var(--accent-blue); box-shadow: 0 0 10px var(--accent-blue); transform: scale(1.2); }

    /* --- VIEWS --- */
    .view-section { display: none; animation: fadeIn 0.5s ease; }
    .view-section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* --- VIEW 1: PACKAGES --- */
    .package-card {
      background: var(--surface-base);
      border: 1px solid var(--border-light);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .package-card:hover { border-color: var(--accent-blue); background: var(--surface-hover); }
    .package-card.selected { border-color: var(--accent-blue); background: rgba(44, 166, 224, 0.1); }
    .pkg-info h3 { font-family: var(--font-heading); font-size: 1.5rem; margin-bottom: 4px; }
    .pkg-info span { font-size: 0.85rem; color: var(--text-muted); }
    .pkg-price { font-weight: 700; color: var(--accent-blue); font-size: 1.2rem; }

    /* --- VIEW 2: BUILDER --- */
    .input-group { position: relative; margin-bottom: 20px; }
    input[type="text"] {
      width: 100%; padding: 15px;
      background: #0f1322; border: 1px solid var(--border-light);
      border-radius: 8px; color: #fff; font-size: 1rem;
    }
    input:focus { outline: none; border-color: var(--accent-blue); }
    
    .suggestions-list {
      display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px; min-height: 40px;
    }
    .chip {
      padding: 6px 12px; border: 1px solid var(--border-light);
      border-radius: 20px; font-size: 0.8rem; cursor: pointer;
      background: var(--surface-base); transition: 0.2s;
    }
    .chip:hover { border-color: var(--accent-blue); color: #fff; }
    .chip.added { background: var(--accent-blue); color: #fff; border-color: var(--accent-blue); opacity: 0.5; pointer-events: none; }

    /* PHONE PREVIEW */
    .phone-mockup {
      width: 280px;
      height: 500px;
      background: #000;
      border-radius: 35px;
      border: 6px solid #333;
      margin: 0 auto 30px auto;
      padding: 10px;
      position: relative;
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
      overflow: hidden;
    }
    .phone-notch {
      width: 100px; height: 18px; background: #000;
      position: absolute; top: 0; left: 50%; transform: translateX(-50%);
      border-radius: 0 0 12px 12px; z-index: 20;
    }
    .phone-screen {
      background: #fff;
      width: 100%; height: 100%;
      border-radius: 25px;
      overflow-y: auto;
      padding: 30px 10px 10px 10px; /* Top padding for notch */
      display: flex; flex-direction: column; gap: 8px;
    }
    .phone-screen::-webkit-scrollbar { width: 0; }

    /* Wireframe Blocks inside Phone */
    .wf-block {
      width: 100%;
      background: #f0f2f5;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 10px;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      font-size: 0.7rem; color: #333; font-weight: 600;
      min-height: 40px;
    }
    .wf-block.wf-hero { height: 100px; background: #eef4f8; }
    .wf-block.wf-image { height: 80px; background: #e8e8e8; }
    .wf-block.wf-btn { background: var(--accent-blue); color: #fff; border: none; border-radius: 20px; }
    
    .page-tabs {
      display: flex; overflow-x: auto; gap: 10px; padding-bottom: 10px; margin-bottom: 10px;
    }
    .page-tab {
      white-space: nowrap; padding: 8px 15px; background: var(--surface-base);
      border-radius: 6px; font-size: 0.8rem; cursor: pointer; border: 1px solid transparent;
    }
    .page-tab.active { border-color: var(--accent-blue); color: var(--accent-blue); }

    /* --- VIEW 3: SUMMARY --- */
    .summary-box {
      background: var(--surface-base); padding: 30px; border-radius: 12px;
      border: 1px solid var(--border-light); text-align: left;
    }
    .summary-item { display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dashed var(--border-light); font-size: 0.9rem; }
    .summary-total { font-size: 1.4rem; color: var(--accent-blue); font-weight: 700; text-align: right; margin-top: 20px; }

    /* --- BUTTONS --- */
    .btn-row { display: flex; gap: 10px; margin-top: 20px; }
    .btn {
      flex: 1; padding: 15px; border: none; border-radius: 8px;
      font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
      cursor: pointer; font-size: 0.9rem; transition: 0.2s;
    }
    .btn-primary { background: var(--accent-blue); color: #fff; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(44, 166, 224, 0.4); }
    .btn-secondary { background: transparent; border: 1px solid var(--border-light); color: var(--text-muted); }

    .hidden { display: none; }
  </style>
</head>
<body>

  <div class="progress-nav">
    <div class="step-dot active" id="dot-1"></div>
    <div class="step-dot" id="dot-2"></div>
    <div class="step-dot" id="dot-3"></div>
  </div>

  <div class="container">

    <div id="view-packages" class="view-section active">
      <h1>Select a Foundation</h1>
      <p>Choose a starting point for your new website.</p>
      
      <div class="package-card" onclick="selectPackage('Basic', 1500)">
        <div class="pkg-info"><h3>Basic</h3><span>2 Pages â€¢ Online Card</span></div>
        <div class="pkg-price">$1,500</div>
      </div>
      <div class="package-card" onclick="selectPackage('Standard', 2500)">
        <div class="pkg-info"><h3>Standard</h3><span>5 Pages â€¢ Growth</span></div>
        <div class="pkg-price">$2,500</div>
      </div>
      <div class="package-card" onclick="selectPackage('Advanced', 4500)">
        <div class="pkg-info"><h3>Advanced</h3><span>10 Pages â€¢ E-Commerce</span></div>
        <div class="pkg-price">$4,500</div>
      </div>
    </div>

    <div id="view-builder" class="view-section">
      <h1>Build Your Structure</h1>
      <p>Type your industry (e.g. "Coffee", "Yoga") to get page suggestions. Click suggestions to add them to your wireframe.</p>

      <div class="input-group">
        <input type="text" id="industryInput" placeholder="Type Industry here..." oninput="handleSearch(this.value)">
      </div>

      <div id="chipContainer" class="suggestions-list">
        <span style="font-size:0.8rem; opacity:0.5; width:100%; text-align:center;">Suggestions will appear here...</span>
      </div>

      <div class="page-tabs" id="pageTabs">
        </div>

      <div class="phone-mockup">
        <div class="phone-notch"></div>
        <div class="phone-screen" id="phoneScreen">
          <div style="text-align:center; padding-top:100px; color:#aaa; font-size:0.9rem;">
            Select a page above<br>to see the wireframe.
          </div>
        </div>
      </div>

      <div class="btn-row">
        <button class="btn btn-secondary" onclick="goToStep(1)">Back</button>
        <button class="btn btn-primary" onclick="goToStep(3)">Finish Scope</button>
      </div>
    </div>

    <div id="view-summary" class="view-section">
      <h1>Your Project Scope</h1>
      <p>Here is the outline we created. Ready to make it real?</p>

      <div class="summary-box">
        <div class="summary-item">
          <span>Package</span>
          <strong id="sum-package">-</strong>
        </div>
        <div class="summary-item">
          <span>Industry</span>
          <strong id="sum-industry">-</strong>
        </div>
        <div class="summary-item">
          <span>Pages Created</span>
          <strong id="sum-pages">0</strong>
        </div>
        <div class="summary-total" id="sum-total">$0</div>
      </div>

      <div class="btn-row">
        <button class="btn btn-secondary" onclick="goToStep(2)">Edit Plan</button>
        <button class="btn btn-primary" onclick="alert('In a real version, this would email you the plan!')">Book Free Consult</button>
      </div>
    </div>

  </div>

  <script>
    /* --- DATA: SIMPLIFIED FROM ORIGINAL --- */
    const INDUSTRY_DB = {
      "Bakery": { pages: ["Home", "Menu", "Location"], layout: "L-06" },
      "Coffee Shop": { pages: ["Home", "Menu", "About"], layout: "L-01" },
      "Restaurant": { pages: ["Home", "Menu", "Reservations"], layout: "L-14" },
      "Portfolio": { pages: ["Home", "Gallery", "Contact"], layout: "L-19" },
      "Construction": { pages: ["Home", "Services", "Projects", "Quote"], layout: "L-21" },
      "Consulting": { pages: ["Home", "Services", "About", "Contact"], layout: "L-23" },
      "Yoga / Fitness": { pages: ["Home", "Classes", "Schedule", "Membership"], layout: "L-12" },
      "Retail / Shop": { pages: ["Home", "Shop All", "New Arrivals", "Cart"], layout: "L-20" }
    };

    const LAYOUT_DEFS = {
      "default": ["Header", "Hero Section", "Text Content", "Image", "Footer"],
      "L-01": ["Header", "Full Screen Hero", "Intro Text", "Gallery Grid", "Footer"],
      "L-06": ["Header", "Hero", "Menu Category 1", "Menu Category 2", "Footer"],
      "L-12": ["Header", "Events Hero", "Calendar View", "Upcoming List", "Footer"],
      "L-14": ["Header", "Book Now Hero", "Calendar Widget", "Footer"],
      "L-19": ["Header", "Artist Name", "Large Image", "Gallery Grid", "Footer"],
      "L-20": ["Header", "Retail Hero", "Featured Items", "New Arrivals", "Footer"],
      "L-21": ["Header", "Trust Badges", "Services List", "Testimonials", "Footer"],
      "L-23": ["Header", "Corporate Hero", "Mission Text", "Services", "Footer"]
    };

    const BLOCK_ICONS = {
      "Hero": "ðŸ–¼ï¸", "Header": "ðŸ§­", "Footer": "ðŸ”»", "Menu": "ðŸ“‹", 
      "Image": "ðŸ“·", "Text": "ðŸ“", "Gallery": "ðŸ–¼ï¸", "Calendar": "ðŸ“…", "Cart": "ðŸ›ï¸"
    };

    /* --- STATE --- */
    let state = {
      step: 1,
      package: { name: "", price: 0 },
      pages: ["Home", "Contact"], // Default pages
      industry: "Generic",
      currentLayout: "default"
    };

    /* --- LOGIC --- */
    function goToStep(step) {
      document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.step-dot').forEach(el => el.classList.remove('active'));
      
      if(step === 1) document.getElementById('view-packages').classList.add('active');
      if(step === 2) {
        document.getElementById('view-builder').classList.add('active');
        renderTabs();
        renderPhone("Home"); // Default view
      }
      if(step === 3) {
        document.getElementById('view-summary').classList.add('active');
        renderSummary();
      }

      document.getElementById(`dot-${step}`).classList.add('active');
      state.step = step;
    }

    function selectPackage(name, price) {
      state.package = { name, price };
      // Visual feedback
      const cards = document.querySelectorAll('.package-card');
      cards.forEach(c => c.classList.remove('selected'));
      event.currentTarget.classList.add('selected');
      
      setTimeout(() => goToStep(2), 300);
    }

    function handleSearch(query) {
      const container = document.getElementById('chipContainer');
      container.innerHTML = '';
      
      if(!query) return;

      const matches = Object.keys(INDUSTRY_DB).filter(k => k.toLowerCase().includes(query.toLowerCase()));
      
      if(matches.length > 0) {
        matches.forEach(ind => {
          const chip = document.createElement('div');
          chip.className = 'chip';
          chip.innerText = `+ Use ${ind} Template`;
          chip.onclick = () => applyIndustry(ind);
          container.appendChild(chip);
        });
      } else {
        container.innerHTML = '<span style="font-size:0.8rem; opacity:0.5;">No matches found. Try "Coffee" or "Retail"</span>';
      }
    }

    function applyIndustry(indName) {
      state.industry = indName;
      const data = INDUSTRY_DB[indName];
      state.currentLayout = data.layout;
      
      // Merge pages
      data.pages.forEach(p => {
        if(!state.pages.includes(p)) state.pages.push(p);
      });

      document.getElementById('industryInput').value = indName;
      document.getElementById('chipContainer').innerHTML = `<div class="chip added">Applied: ${indName}</div>`;
      
      renderTabs();
      renderPhone(state.pages[1] || "Home"); // Switch to new page to show effect
    }

    function renderTabs() {
      const tabs = document.getElementById('pageTabs');
      tabs.innerHTML = '';
      state.pages.forEach(page => {
        const t = document.createElement('div');
        t.className = 'page-tab';
        t.innerText = page;
        t.onclick = () => {
          document.querySelectorAll('.page-tab').forEach(x => x.classList.remove('active'));
          t.classList.add('active');
          renderPhone(page);
        };
        tabs.appendChild(t);
      });
      // Set first active
      if(tabs.firstChild) tabs.firstChild.classList.add('active');
    }

    function renderPhone(pageName) {
      const screen = document.getElementById('phoneScreen');
      screen.innerHTML = '';

      // Determine Layout blocks
      let blocks = LAYOUT_DEFS["default"];
      
      // If we have a specific industry loaded, try to use its layout style
      if(state.currentLayout && LAYOUT_DEFS[state.currentLayout]) {
        blocks = LAYOUT_DEFS[state.currentLayout];
      }

      // Simple randomization for demo variety based on page name
      if(pageName.includes("Contact")) blocks = ["Header", "Text Content", "Text Content", "Footer"];
      if(pageName.includes("Menu")) blocks = ["Header", "Menu", "Menu", "Menu", "Footer"];
      
      blocks.forEach(blockName => {
        const el = document.createElement('div');
        let typeClass = "";
        let icon = "ðŸ“¦";

        // Assign visual styles based on block name string
        if(blockName.includes("Hero") || blockName.includes("Image")) {
           typeClass = "wf-hero"; 
           icon = "ðŸ–¼ï¸";
        } else if(blockName.includes("Button") || blockName.includes("CTA")) {
           typeClass = "wf-btn"; 
           icon = "ðŸ‘†";
        } else {
           Object.keys(BLOCK_ICONS).forEach(key => {
             if(blockName.includes(key)) icon = BLOCK_ICONS[key];
           });
        }

        el.className = `wf-block ${typeClass}`;
        el.innerHTML = `<span>${icon}</span> <span>${blockName}</span>`;
        screen.appendChild(el);
      });
    }

    function renderSummary() {
      document.getElementById('sum-package').innerText = state.package.name || "None";
      document.getElementById('sum-industry').innerText = state.industry;
      document.getElementById('sum-pages').innerText = state.pages.join(", ");
      document.getElementById('sum-total').innerText = "$" + state.package.price.toLocaleString();
    }
  </script>
</body>
</html>
